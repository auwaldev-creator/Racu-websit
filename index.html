<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Racu International Resources Nigeria Ltd</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background: #111;
      color: #f5f5f5;
    }
    header {
      background: linear-gradient(90deg, gold, darkgoldenrod, #222);
      color: #111;
      padding: 20px;
      text-align: center;
    }
    header img {
      max-height: 60px;
      display: block;
      margin: 0 auto 10px;
    }
    header h1 {
      margin: 0;
      font-size: 1.6rem;
      font-weight: bold;
    }
    .container {
      max-width: 700px;
      margin: 30px auto;
      background: #222;
      padding: 25px;
      border-radius: 12px;
      box-shadow: 0 0 12px rgba(255, 215, 0, 0.3);
    }
    .steps {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 15px;
      margin-bottom: 20px;
    }
    .step {
      background: #333;
      border-left: 4px solid gold;
      padding: 10px;
      border-radius: 8px;
    }
    .step h3 {
      margin: 0 0 8px;
      color: gold;
    }
    form {
      display: flex;
      flex-direction: column;
    }
    label {
      margin-top: 12px;
      font-weight: bold;
      color: #f5f5f5;
    }
    input, textarea, select {
      padding: 10px;
      margin-top: 6px;
      border: 1px solid #555;
      border-radius: 6px;
      background: #111;
      color: #f5f5f5;
    }
    input:focus, textarea:focus, select:focus {
      border-color: gold;
      outline: none;
    }
    button {
      margin-top: 20px;
      padding: 12px;
      background: gold;
      border: none;
      border-radius: 6px;
      font-weight: bold;
      color: #111;
      cursor: pointer;
      transition: 0.3s;
    }
    button:hover {
      background: darkgoldenrod;
      color: #fff;
    }
    .whatsapp-btn {
      display: block;
      text-align: center;
      margin-top: 20px;
      padding: 12px;
      background: #25D366;
      border-radius: 6px;
      font-weight: bold;
      color: #fff;
      text-decoration: none;
      transition: 0.3s;
    }
    .whatsapp-btn:hover {
      background: #1DA851;
    }
    footer {
      text-align: center;
      padding: 15px;
      margin-top: 30px;
      background: #000;
      font-size: 0.9rem;
      color: #aaa;
    }
    .message {
      padding: 15px;
      margin-top: 20px;
      border-radius: 6px;
      text-align: center;
      display: none;
    }
    .success {
      background: #d4edda;
      color: #155724;
      border: 1px solid #c3e6cb;
    }
    .error {
      background: #f8d7da;
      color: #721c24;
      border: 1px solid #f5c6cb;
    }
    .info-box {
      background: #333;
      padding: 15px;
      border-radius: 6px;
      margin-top: 25px;
      font-size: 14px;
      border-left: 4px solid gold;
    }
    .info-box h3 {
      margin-bottom: 10px;
      color: gold;
    }
    .loading {
      display: none;
      text-align: center;
      margin-top: 15px;
      color: gold;
    }
    .file-info {
      font-size: 12px;
      margin-top: 5px;
      color: #aaa;
    }
    .state-lga-container {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 15px;
    }
    @media (max-width: 600px) {
      .state-lga-container {
        grid-template-columns: 1fr;
      }
      .steps {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>
  <header>
    <img src="logo.jpg" alt="Racu Logo" onerror="this.style.display='none'"/>
    <h1>Racu International Resources Nigeria Ltd</h1>
    <p>Trusted Partner for MTN Username Creation</p>
  </header>

  <div class="container">
    <h2 style="color:gold; text-align:center;">MTN Username Creation Request</h2>
    <p style="text-align:center;">Complete this form to request your MTN username creation. Ensure your details are accurate.</p>

    <div class="steps">
      <div class="step">
        <h3>Step 1: Fill Application</h3>
        <p>Provide complete personal details.</p>
      </div>
      <div class="step">
        <h3>Step 2: Verification</h3>
        <p>Your information will be reviewed.</p>
      </div>
      <div class="step">
        <h3>Step 3: Processing</h3>
        <p>We will process your request promptly.</p>
      </div>
      <div class="step">
        <h3>Step 4: Approval</h3>
        <p>Receive your MTN username status.</p>
      </div>
    </div>

    <form id="mtnForm">
      <label>Outlet Name *</label>
      <input type="text" name="outlet_name" required>

      <label>Surname *</label>
      <input type="text" name="surname" required>

      <label>First Name *</label>
      <input type="text" name="first_name" required>

      <label>Other Name</label>
      <input type="text" name="other_name">

      <label>NIN Number *</label>
      <input type="text" name="nin_number" required>

      <label>Email Address *</label>
      <input type="email" name="email" required>

      <label>Qualification</label>
      <select name="qualification">
        <option value="">Select Qualification</option>
        <option value="SSCE">SSCE</option>
        <option value="OND">OND</option>
        <option value="HND">HND</option>
        <option value="BSc">BSc</option>
        <option value="MSc">MSc</option>
        <option value="PhD">PhD</option>
        <option value="Other">Other</option>
      </select>

      <label>Phone Number *</label>
      <input type="tel" name="phone" required>

      <label>Current Address *</label>
      <textarea name="address" rows="2" required></textarea>

      <div class="state-lga-container">
        <div>
          <label>State</label>
          <input type="text" name="state">
        </div>
        <div>
          <label>LGA</label>
          <input type="text" name="lga">
        </div>
      </div>

      <div class="state-lga-container">
        <div>
          <label>Longitude</label>
          <input type="text" name="longitude" placeholder="e.g. 8.6753">
        </div>
        <div>
          <label>Latitude</label>
          <input type="text" name="latitude" placeholder="e.g. 9.0820">
        </div>
      </div>

      <label>Device Tag ID</label>
      <input type="text" name="device_tag_id">

      <label>Upload Passport Photo (Max 2MB)</label>
      <input type="file" name="photo" accept="image/*">
      <div class="file-info">Accepted formats: JPG, PNG, JPEG</div>

      <label>Signature (Max 2MB)</label>
      <input type="file" name="signature" accept="image/*">
      <div class="file-info">Accepted formats: JPG, PNG, JPEG</div>

      <button type="submit">Submit Application</button>
      
      <div id="loading" class="loading">
        <p>Submitting your application, please wait...</p>
      </div>
    </form>

    <div id="messageArea"></div>

    <div class="info-box">
      <h3>Important Note</h3>
      <p>This form sends data directly to our email system. For file uploads to work, this form must be hosted on a server with PHP support. If you encounter issues with file uploads, please contact us via WhatsApp for alternative submission methods.</p>
    </div>

    <a class="whatsapp-btn" href="https://chat.whatsapp.com/BKX21FA9PWMFzLkq0w0bT5?mode=ems_share_t" target="_blank">
      ðŸ“± Contact Us on WhatsApp
    </a>
  </div>

  <footer>
    &copy; 2025 Racu International Resources Nigeria Ltd. All rights reserved.
  </footer>

  <script>
    document.getElementById('mtnForm').addEventListener('submit', function(e) {
      e.preventDefault();
      
      const submitBtn = this.querySelector('button[type="submit"]');
      const loading = document.getElementById('loading');
      const messageArea = document.getElementById('messageArea');
      
      submitBtn.disabled = true;
      loading.style.display = 'block';
      messageArea.style.display = 'none';
      
      const formData = new FormData(this);
      
      // Test if we can reach the server
      fetch('send_email.php', { method: 'HEAD' })
      .then(() => {
        // Server is reachable, now submit the form
        return fetch('send_email.php', {
          method: 'POST',
          body: formData
        });
      })
      .then(response => {
        if (!response.ok) {
          throw new Error('Server response was not OK');
        }
        return response.json();
      })
      .then(data => {
        messageArea.style.display = 'block';
        
        if (data.success) {
          messageArea.className = 'message success';
          messageArea.innerHTML = '<p>Application submitted successfully! We will contact you shortly.</p>';
          document.getElementById('mtnForm').reset();
        } else {
          messageArea.className = 'message error';
          messageArea.innerHTML = `<p>Error: ${data.message}</p>`;
        }
        
        submitBtn.disabled = false;
        loading.style.display = 'none';
        
        // Scroll to message
        messageArea.scrollIntoView({ behavior: 'smooth' });
      })
      .catch(error => {
        console.error('Error:', error);
        messageArea.style.display = 'block';
        messageArea.className = 'message error';
        messageArea.innerHTML = '<p>Network error. Please check your connection and try again. If the problem persists, contact us via WhatsApp.</p>';
        
        submitBtn.disabled = false;
        loading.style.display = 'none';
        
        // Scroll to message
        messageArea.scrollIntoView({ behavior: 'smooth' });
      });
    });

    // Add file size validation
    const photoInput = document.querySelector('input[name="photo"]');
    const signatureInput = document.querySelector('input[name="signature"]');
    
    const validateFileSize = (fileInput, maxSizeMB) => {
      if (fileInput.files.length > 0) {
        const fileSize = fileInput.files[0].size / 1024 / 1024; // in MB
        if (fileSize > maxSizeMB) {
          alert(`File size must be less than ${maxSizeMB}MB`);
          fileInput.value = '';
          return false;
        }
      }
      return true;
    };
    
    photoInput.addEventListener('change', () => validateFileSize(photoInput, 2));
    signatureInput.addEventListener('change', () => validateFileSize(signatureInput, 2));
  </script>
</body>
</html>
